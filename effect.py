import curses
import random
import time

def matrix_effect(stdscr):
    curses.curs_set(0)
    stdscr.nodelay(1)
    stdscr.timeout(10)

    # size of the window
    height, width = stdscr.getmaxyx()

    columns = [0] * width
    symbols = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$%#@!*&^()"

    # add some Japanese characters for more effect
    hieroglyphs = "一二三四五六七八九十百千万億兆京日月火水木金土山川田中村林森島海空天星花草虫鳥魚犬猫馬牛羊人名男女子学校教会社員医者政治経済文化歴史新聞雑誌本屋店車道線駅電気電話時間分秒年週月曜火曜水曜木曜金曜土曜朝昼夜春夏秋冬北南東西上下左右中心内外前後高低長短大小強弱新古早遅安危平和戦争勝負始終過去未来現在予定希望可能必安全完全成功失敗努力勉強仕事会社企業組織政府法律制度規則責任義務権利自由民主主義社会国家地方都市人口環境自然科学技術情報通信教育研究大学高校中学小学試験教科書知識経験理解説明質問回答言葉言語文字漢字平仮名片仮名英語外国語意味内容表現文化伝統芸術音楽映画絵画文学歴史時代事件事故災害戦争平和外交国際関係貿易経済産業農業金融投資会社仕事労働職業技術開発製品商品市場価格需要供給利益損失管理経営計画戦略目標目的効果影響責任義務権利法律裁判警察犯罪安全危険健康病気治療病院医薬品運動食事栄養生活習慣環境保護自然動物植物資源エネルギー電気水道交通運輸道路鉄道車両船飛行機空港旅行観光地域都市村町公園庭園住宅建物建築構造設計家具家電製品機械装置道具工具材料金属木材紙布革食品飲料野菜果物米肉魚料理食事朝食昼食夕食味塩糖油酒茶水牛乳健康病気怪我薬医者看護患者治療手術検査診断健康保険生活日常休暇旅行趣味運動スポーツ野球サッカー競技試合勝敗練習選手監督応援学校生徒先生教育学習試験成績教科書参考書図書館勉強机椅子黒板教室体育音楽美術家庭科学数学英語国語社会理科歴史地理公民倫理政治法律経済哲学宗教心理環境技術情報通信電話携帯インターネット放送新聞雑誌広告宣伝販売購入消費商品店市場価格品質需要供給生産製造企業会社組織団体政府機関施設管理運営計画戦略目標目的達成成功失敗挑戦機会危険安全平和戦争外交貿易国際関係文化交流伝統行事祭り芸術音楽映画演劇絵画彫刻文学詩小説作家出版印刷読書知識情報学習研究調査分析評価統計数字データ事実証拠理論仮説実験結果結論発表報告書記録記憶歴史時代過去未来現在予定希望夢目標努力挑戦冒険旅行探検発見発明創造想像思考判断決定解決問題質問回答議論会話対話相談交渉契約同意反対賛成否定肯定批判分析評価価値判断基準標準比較選択優先順位重要緊急必要十分条件環境状況状態変化変動影響効果原因結果目的手段方法技術技能能力才能努力練習訓練教育指導助言指示命令提案意見忠告警告注意確認点検検査調査研究開発生産製造販売購入使用消費利用活用管理運営組織団体個人集団協力共同作業役割責任義務権利自由平等公正正義法律裁判警察行政政府地方自治国家社会地域都市町村住民市民参加投票選挙政治家政策法律制定規則規制基準標準品質保証安全保護保険補償支援援助救済災害復旧復興建設開発計画設計建築構造建物住宅家屋部屋家具家電設備装置機械道具工具材料資源エネルギー電力電気水道ガス供給配給輸送運輸交通道路鉄道車両自動車船飛行機空港港湾旅行観光名所風景自然公園庭園植物動物保護環境汚染対策管理運営計画戦略目標目的達成成功失敗挑戦機会危険安全平和戦争外交貿易国際関係文化交流伝統行事祭り芸術音楽映画演劇絵画彫刻文学詩小説作家出版印刷読書知識情報学習研究調査分析評価統計数字データ事実証拠理論仮説実験結果結論発表報告書記録記憶歴史時代過去未来現在予定希望夢目標努力挑戦冒険旅行探検発見発明創造想像思考判断決定解決問題質問回答議論会話対話相談交渉契約同意反対賛成否定肯定批判分析評価価値判断基準標準比較選択優先順位重要緊急必要十分条件環境状況状態変化変動影響効果原因結果目的手段方法技術技能能力才能努力練習訓練教育指導助言指示命令提案意見忠告警告注意確認点検検査調査研究開発生産製造販売購入使用消費利用活用管理運営組織団体個人集団協力共同作業役割責任義務権利自由平等公正正義法律裁判警察行政政府地方自治国家社会地域都市町村住民市民参加投票選挙政治家政策法律制定規則規制基準標準品質保証安全保護保険補償支援援助救済災害復旧復興建設開発計画設計建築構造建物住宅家屋部屋家具家電設備装置機械道具工具材料資源エネルギー電力電気水道ガス供給配給輸送運輸交通道路鉄道車両自動車船飛行機空港港湾旅行観光名所風景自然公園庭園植物動物保護環境汚染対策"



    try:
        while True:
            if stdscr.getch() == ord('q'):
                break

            stdscr.clear()

            for i in range(width):
                if columns[i] > 0:
                    # choose between symbols and hieroglyphs
                    char = random.choice(hieroglyphs)
                    #char = random.choice(symbols) # original line

                    if random.random() < 0.1:
                        stdscr.addstr(columns[i] - 1, i, char, curses.color_pair(1))
                    else:
                        stdscr.addstr(columns[i] - 1, i, char, curses.color_pair(2))

                if columns[i] < height - 1 and random.random() < 0.8:
                    columns[i] += 1
                else:
                    if random.random() < 0.05:
                        columns[i] = 0

            stdscr.refresh()
            time.sleep(0.05)

    except KeyboardInterrupt:
        pass